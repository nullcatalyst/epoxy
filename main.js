#!/usr/bin/env node
"use strict";var e=require("fs"),r=require("path");const{Library:t,Application:o,Module:i}=require("./lib"),s=process.argv,n=s.length,l=2===n?r.resolve("epoxy.config.json"):r.resolve(s[2]),a=require(l);a.files||process.exit();let c=Array.isArray(a.files)?a.files:[a.files],u=new t(a.watch||"**/*.html",{watch:!!a.watch}),p=c.map(r=>{const t=new o(u,r.entry,{minify:!!r.minify,data:r.data});return t.on("output",t=>{console.log("OUTPUT"),r.output?e.writeFile(r.output,t,{encoding:"utf8"},e=>{e&&console.error(e)}):console.log(r.entry,"->",t)}),t});
